{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initHeadManager;\nexports.isEqualNode = isEqualNode;\nexports.DOMAttributeNames = void 0;\n\nfunction initHeadManager() {\n  return {\n    mountedInstances: new Set(),\n    updateHead: function updateHead(head) {\n      var tags = {};\n      head.forEach(function (h) {\n        if ( // If the font tag is loaded only on client navigation\n        // it won't be inlined. In this case revert to the original behavior\n        h.type === 'link' && h.props['data-optimized-fonts']) {\n          if (document.querySelector(\"style[data-href=\\\"\".concat(h.props['data-href'], \"\\\"]\"))) {\n            return;\n          } else {\n            h.props.href = h.props['data-href'];\n            h.props['data-href'] = undefined;\n          }\n        }\n\n        var components = tags[h.type] || [];\n        components.push(h);\n        tags[h.type] = components;\n      });\n      var titleComponent = tags.title ? tags.title[0] : null;\n      var title = '';\n\n      if (titleComponent) {\n        var children = titleComponent.props.children;\n        title = typeof children === 'string' ? children : Array.isArray(children) ? children.join('') : '';\n      }\n\n      if (title !== document.title) document.title = title;\n      ['meta', 'base', 'link', 'style', 'script'].forEach(function (type) {\n        updateElements(type, tags[type] || []);\n      });\n    }\n  };\n}\n\nvar DOMAttributeNames = {\n  acceptCharset: 'accept-charset',\n  className: 'class',\n  htmlFor: 'for',\n  httpEquiv: 'http-equiv',\n  noModule: 'noModule'\n};\nexports.DOMAttributeNames = DOMAttributeNames;\n\nfunction reactElementToDOM(_ref) {\n  var type = _ref.type,\n      props = _ref.props;\n  var el = document.createElement(type);\n\n  for (var p in props) {\n    if (!props.hasOwnProperty(p)) continue;\n    if (p === 'children' || p === 'dangerouslySetInnerHTML') continue; // we don't render undefined props to the DOM\n\n    if (props[p] === undefined) continue;\n    var attr = DOMAttributeNames[p] || p.toLowerCase();\n\n    if (type === 'script' && (attr === 'async' || attr === 'defer' || attr === 'noModule')) {\n      el[attr] = !!props[p];\n    } else {\n      el.setAttribute(attr, props[p]);\n    }\n  }\n\n  var children = props.children,\n      dangerouslySetInnerHTML = props.dangerouslySetInnerHTML;\n\n  if (dangerouslySetInnerHTML) {\n    el.innerHTML = dangerouslySetInnerHTML.__html || '';\n  } else if (children) {\n    el.textContent = typeof children === 'string' ? children : Array.isArray(children) ? children.join('') : '';\n  }\n\n  return el;\n}\n\nfunction isEqualNode(oldTag, newTag) {\n  if (oldTag instanceof HTMLElement && newTag instanceof HTMLElement) {\n    var nonce = newTag.getAttribute('nonce'); // Only strip the nonce if `oldTag` has had it stripped. An element's nonce attribute will not\n    // be stripped if there is no content security policy response header that includes a nonce.\n\n    if (nonce && !oldTag.getAttribute('nonce')) {\n      var cloneTag = newTag.cloneNode(true);\n      cloneTag.setAttribute('nonce', '');\n      cloneTag.nonce = nonce;\n      return nonce === oldTag.nonce && oldTag.isEqualNode(cloneTag);\n    }\n  }\n\n  return oldTag.isEqualNode(newTag);\n}\n\nfunction updateElements(type, components) {\n  var headEl = document.getElementsByTagName('head')[0];\n  var headCountEl = headEl.querySelector('meta[name=next-head-count]');\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (!headCountEl) {\n      console.error('Warning: next-head-count is missing. https://nextjs.org/docs/messages/next-head-count-missing');\n      return;\n    }\n  }\n\n  var headCount = Number(headCountEl.content);\n  var oldTags = [];\n\n  for (var i = 0, j = headCountEl.previousElementSibling; i < headCount; i++, j = (j == null ? void 0 : j.previousElementSibling) || null) {\n    var ref;\n\n    if ((j == null ? void 0 : (ref = j.tagName) == null ? void 0 : ref.toLowerCase()) === type) {\n      oldTags.push(j);\n    }\n  }\n\n  var newTags = components.map(reactElementToDOM).filter(function (newTag) {\n    for (var k = 0, len = oldTags.length; k < len; k++) {\n      var oldTag = oldTags[k];\n\n      if (isEqualNode(oldTag, newTag)) {\n        oldTags.splice(k, 1);\n        return false;\n      }\n    }\n\n    return true;\n  });\n  oldTags.forEach(function (t) {\n    var ref;\n    return (ref = t.parentNode) == null ? void 0 : ref.removeChild(t);\n  });\n  newTags.forEach(function (t) {\n    return headEl.insertBefore(t, headCountEl);\n  });\n  headCountEl.content = (headCount - oldTags.length + newTags.length).toString();\n}\n\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', {\n    value: true\n  });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}","map":{"version":3,"sources":["../../client/head-manager.ts"],"names":["DOMAttributeNames","acceptCharset","className","htmlFor","httpEquiv","noModule","reactElementToDOM","type","props","el","document","createElement","p","hasOwnProperty","undefined","attr","toLowerCase","setAttribute","children","dangerouslySetInnerHTML","innerHTML","__html","textContent","Array","isArray","join","isEqualNode","oldTag","newTag","HTMLElement","nonce","getAttribute","cloneTag","cloneNode","updateElements","components","headEl","getElementsByTagName","headCountEl","querySelector","process","env","NODE_ENV","console","error","headCount","Number","content","oldTags","i","j","previousElementSibling","tagName","push","newTags","map","filter","k","len","length","splice","forEach","t","parentNode","removeChild","insertBefore","toString","initHeadManager","mountedInstances","Set","updateHead","head","tags","h","href","titleComponent","title"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = initHeadManager;\nexports.isEqualNode = isEqualNode;\nexports.DOMAttributeNames = void 0;\nfunction initHeadManager() {\n    return {\n        mountedInstances: new Set(),\n        updateHead: (head)=>{\n            const tags = {};\n            head.forEach((h)=>{\n                if (// If the font tag is loaded only on client navigation\n                // it won't be inlined. In this case revert to the original behavior\n                h.type === 'link' && h.props['data-optimized-fonts']) {\n                    if (document.querySelector(`style[data-href=\"${h.props['data-href']}\"]`)) {\n                        return;\n                    } else {\n                        h.props.href = h.props['data-href'];\n                        h.props['data-href'] = undefined;\n                    }\n                }\n                const components = tags[h.type] || [];\n                components.push(h);\n                tags[h.type] = components;\n            });\n            const titleComponent = tags.title ? tags.title[0] : null;\n            let title = '';\n            if (titleComponent) {\n                const { children  } = titleComponent.props;\n                title = typeof children === 'string' ? children : Array.isArray(children) ? children.join('') : '';\n            }\n            if (title !== document.title) document.title = title;\n            [\n                'meta',\n                'base',\n                'link',\n                'style',\n                'script'\n            ].forEach((type)=>{\n                updateElements(type, tags[type] || []);\n            });\n        }\n    };\n}\nconst DOMAttributeNames = {\n    acceptCharset: 'accept-charset',\n    className: 'class',\n    htmlFor: 'for',\n    httpEquiv: 'http-equiv',\n    noModule: 'noModule'\n};\nexports.DOMAttributeNames = DOMAttributeNames;\nfunction reactElementToDOM({ type , props  }) {\n    const el = document.createElement(type);\n    for(const p in props){\n        if (!props.hasOwnProperty(p)) continue;\n        if (p === 'children' || p === 'dangerouslySetInnerHTML') continue;\n        // we don't render undefined props to the DOM\n        if (props[p] === undefined) continue;\n        const attr = DOMAttributeNames[p] || p.toLowerCase();\n        if (type === 'script' && (attr === 'async' || attr === 'defer' || attr === 'noModule')) {\n            el[attr] = !!props[p];\n        } else {\n            el.setAttribute(attr, props[p]);\n        }\n    }\n    const { children , dangerouslySetInnerHTML  } = props;\n    if (dangerouslySetInnerHTML) {\n        el.innerHTML = dangerouslySetInnerHTML.__html || '';\n    } else if (children) {\n        el.textContent = typeof children === 'string' ? children : Array.isArray(children) ? children.join('') : '';\n    }\n    return el;\n}\nfunction isEqualNode(oldTag, newTag) {\n    if (oldTag instanceof HTMLElement && newTag instanceof HTMLElement) {\n        const nonce = newTag.getAttribute('nonce');\n        // Only strip the nonce if `oldTag` has had it stripped. An element's nonce attribute will not\n        // be stripped if there is no content security policy response header that includes a nonce.\n        if (nonce && !oldTag.getAttribute('nonce')) {\n            const cloneTag = newTag.cloneNode(true);\n            cloneTag.setAttribute('nonce', '');\n            cloneTag.nonce = nonce;\n            return nonce === oldTag.nonce && oldTag.isEqualNode(cloneTag);\n        }\n    }\n    return oldTag.isEqualNode(newTag);\n}\nfunction updateElements(type, components) {\n    const headEl = document.getElementsByTagName('head')[0];\n    const headCountEl = headEl.querySelector('meta[name=next-head-count]');\n    if (process.env.NODE_ENV !== 'production') {\n        if (!headCountEl) {\n            console.error('Warning: next-head-count is missing. https://nextjs.org/docs/messages/next-head-count-missing');\n            return;\n        }\n    }\n    const headCount = Number(headCountEl.content);\n    const oldTags = [];\n    for(let i = 0, j = headCountEl.previousElementSibling; i < headCount; i++, j = (j == null ? void 0 : j.previousElementSibling) || null){\n        var ref;\n        if ((j == null ? void 0 : (ref = j.tagName) == null ? void 0 : ref.toLowerCase()) === type) {\n            oldTags.push(j);\n        }\n    }\n    const newTags = components.map(reactElementToDOM).filter((newTag)=>{\n        for(let k = 0, len = oldTags.length; k < len; k++){\n            const oldTag = oldTags[k];\n            if (isEqualNode(oldTag, newTag)) {\n                oldTags.splice(k, 1);\n                return false;\n            }\n        }\n        return true;\n    });\n    oldTags.forEach((t)=>{\n        var ref;\n        return (ref = t.parentNode) == null ? void 0 : ref.removeChild(t);\n    });\n    newTags.forEach((t)=>headEl.insertBefore(t, headCountEl));\n    headCountEl.content = (headCount - oldTags.length + newTags.length).toString();\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=head-manager.js.map"]},"metadata":{},"sourceType":"script"}