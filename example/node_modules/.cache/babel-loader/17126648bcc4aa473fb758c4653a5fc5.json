{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initHeadManager;\nexports.isEqualNode = isEqualNode;\nexports.DOMAttributeNames = void 0;\nfunction initHeadManager() {\n  return {\n    mountedInstances: new Set(),\n    updateHead: function updateHead(head) {\n      var tags = {};\n      head.forEach(function (h) {\n        if (\n        // If the font tag is loaded only on client navigation\n        // it won't be inlined. In this case revert to the original behavior\n        h.type === 'link' && h.props['data-optimized-fonts']) {\n          if (document.querySelector(\"style[data-href=\\\"\".concat(h.props['data-href'], \"\\\"]\"))) {\n            return;\n          } else {\n            h.props.href = h.props['data-href'];\n            h.props['data-href'] = undefined;\n          }\n        }\n        var components = tags[h.type] || [];\n        components.push(h);\n        tags[h.type] = components;\n      });\n      var titleComponent = tags.title ? tags.title[0] : null;\n      var title = '';\n      if (titleComponent) {\n        var children = titleComponent.props.children;\n        title = typeof children === 'string' ? children : Array.isArray(children) ? children.join('') : '';\n      }\n      if (title !== document.title) document.title = title;\n      ['meta', 'base', 'link', 'style', 'script'].forEach(function (type) {\n        updateElements(type, tags[type] || []);\n      });\n    }\n  };\n}\nvar DOMAttributeNames = {\n  acceptCharset: 'accept-charset',\n  className: 'class',\n  htmlFor: 'for',\n  httpEquiv: 'http-equiv',\n  noModule: 'noModule'\n};\nexports.DOMAttributeNames = DOMAttributeNames;\nfunction reactElementToDOM(_ref) {\n  var type = _ref.type,\n    props = _ref.props;\n  var el = document.createElement(type);\n  for (var p in props) {\n    if (!props.hasOwnProperty(p)) continue;\n    if (p === 'children' || p === 'dangerouslySetInnerHTML') continue;\n    // we don't render undefined props to the DOM\n    if (props[p] === undefined) continue;\n    var attr = DOMAttributeNames[p] || p.toLowerCase();\n    if (type === 'script' && (attr === 'async' || attr === 'defer' || attr === 'noModule')) {\n      el[attr] = !!props[p];\n    } else {\n      el.setAttribute(attr, props[p]);\n    }\n  }\n  var children = props.children,\n    dangerouslySetInnerHTML = props.dangerouslySetInnerHTML;\n  if (dangerouslySetInnerHTML) {\n    el.innerHTML = dangerouslySetInnerHTML.__html || '';\n  } else if (children) {\n    el.textContent = typeof children === 'string' ? children : Array.isArray(children) ? children.join('') : '';\n  }\n  return el;\n}\nfunction isEqualNode(oldTag, newTag) {\n  if (oldTag instanceof HTMLElement && newTag instanceof HTMLElement) {\n    var nonce = newTag.getAttribute('nonce');\n    // Only strip the nonce if `oldTag` has had it stripped. An element's nonce attribute will not\n    // be stripped if there is no content security policy response header that includes a nonce.\n    if (nonce && !oldTag.getAttribute('nonce')) {\n      var cloneTag = newTag.cloneNode(true);\n      cloneTag.setAttribute('nonce', '');\n      cloneTag.nonce = nonce;\n      return nonce === oldTag.nonce && oldTag.isEqualNode(cloneTag);\n    }\n  }\n  return oldTag.isEqualNode(newTag);\n}\nfunction updateElements(type, components) {\n  var headEl = document.getElementsByTagName('head')[0];\n  var headCountEl = headEl.querySelector('meta[name=next-head-count]');\n  if (process.env.NODE_ENV !== 'production') {\n    if (!headCountEl) {\n      console.error('Warning: next-head-count is missing. https://nextjs.org/docs/messages/next-head-count-missing');\n      return;\n    }\n  }\n  var headCount = Number(headCountEl.content);\n  var oldTags = [];\n  for (var i = 0, j = headCountEl.previousElementSibling; i < headCount; i++, j = (j == null ? void 0 : j.previousElementSibling) || null) {\n    var ref;\n    if ((j == null ? void 0 : (ref = j.tagName) == null ? void 0 : ref.toLowerCase()) === type) {\n      oldTags.push(j);\n    }\n  }\n  var newTags = components.map(reactElementToDOM).filter(function (newTag) {\n    for (var k = 0, len = oldTags.length; k < len; k++) {\n      var oldTag = oldTags[k];\n      if (isEqualNode(oldTag, newTag)) {\n        oldTags.splice(k, 1);\n        return false;\n      }\n    }\n    return true;\n  });\n  oldTags.forEach(function (t) {\n    var ref;\n    return (ref = t.parentNode) == null ? void 0 : ref.removeChild(t);\n  });\n  newTags.forEach(function (t) {\n    return headEl.insertBefore(t, headCountEl);\n  });\n  headCountEl.content = (headCount - oldTags.length + newTags.length).toString();\n}\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', {\n    value: true\n  });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}","map":{"version":3,"sources":["../../client/head-manager.ts"],"names":["DOMAttributeNames","acceptCharset","className","htmlFor","httpEquiv","noModule","reactElementToDOM","type","props","el","document","createElement","p","hasOwnProperty","undefined","attr","toLowerCase","setAttribute","children","dangerouslySetInnerHTML","innerHTML","__html","textContent","Array","isArray","join","isEqualNode","oldTag","newTag","HTMLElement","nonce","getAttribute","cloneTag","cloneNode","updateElements","components","headEl","getElementsByTagName","headCountEl","querySelector","process","env","NODE_ENV","console","error","headCount","Number","content","oldTags","i","j","previousElementSibling","tagName","push","newTags","map","filter","k","len","length","splice","forEach","t","parentNode","removeChild","insertBefore","toString","initHeadManager","mountedInstances","Set","updateHead","head","tags","h","href","titleComponent","title"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = initHeadManager;\nexports.isEqualNode = isEqualNode;\nexports.DOMAttributeNames = void 0;\nfunction initHeadManager() {\n    return {\n        mountedInstances: new Set(),\n        updateHead: (head)=>{\n            const tags = {};\n            head.forEach((h)=>{\n                if (// If the font tag is loaded only on client navigation\n                // it won't be inlined. In this case revert to the original behavior\n                h.type === 'link' && h.props['data-optimized-fonts']) {\n                    if (document.querySelector(`style[data-href=\"${h.props['data-href']}\"]`)) {\n                        return;\n                    } else {\n                        h.props.href = h.props['data-href'];\n                        h.props['data-href'] = undefined;\n                    }\n                }\n                const components = tags[h.type] || [];\n                components.push(h);\n                tags[h.type] = components;\n            });\n            const titleComponent = tags.title ? tags.title[0] : null;\n            let title = '';\n            if (titleComponent) {\n                const { children  } = titleComponent.props;\n                title = typeof children === 'string' ? children : Array.isArray(children) ? children.join('') : '';\n            }\n            if (title !== document.title) document.title = title;\n            [\n                'meta',\n                'base',\n                'link',\n                'style',\n                'script'\n            ].forEach((type)=>{\n                updateElements(type, tags[type] || []);\n            });\n        }\n    };\n}\nconst DOMAttributeNames = {\n    acceptCharset: 'accept-charset',\n    className: 'class',\n    htmlFor: 'for',\n    httpEquiv: 'http-equiv',\n    noModule: 'noModule'\n};\nexports.DOMAttributeNames = DOMAttributeNames;\nfunction reactElementToDOM({ type , props  }) {\n    const el = document.createElement(type);\n    for(const p in props){\n        if (!props.hasOwnProperty(p)) continue;\n        if (p === 'children' || p === 'dangerouslySetInnerHTML') continue;\n        // we don't render undefined props to the DOM\n        if (props[p] === undefined) continue;\n        const attr = DOMAttributeNames[p] || p.toLowerCase();\n        if (type === 'script' && (attr === 'async' || attr === 'defer' || attr === 'noModule')) {\n            el[attr] = !!props[p];\n        } else {\n            el.setAttribute(attr, props[p]);\n        }\n    }\n    const { children , dangerouslySetInnerHTML  } = props;\n    if (dangerouslySetInnerHTML) {\n        el.innerHTML = dangerouslySetInnerHTML.__html || '';\n    } else if (children) {\n        el.textContent = typeof children === 'string' ? children : Array.isArray(children) ? children.join('') : '';\n    }\n    return el;\n}\nfunction isEqualNode(oldTag, newTag) {\n    if (oldTag instanceof HTMLElement && newTag instanceof HTMLElement) {\n        const nonce = newTag.getAttribute('nonce');\n        // Only strip the nonce if `oldTag` has had it stripped. An element's nonce attribute will not\n        // be stripped if there is no content security policy response header that includes a nonce.\n        if (nonce && !oldTag.getAttribute('nonce')) {\n            const cloneTag = newTag.cloneNode(true);\n            cloneTag.setAttribute('nonce', '');\n            cloneTag.nonce = nonce;\n            return nonce === oldTag.nonce && oldTag.isEqualNode(cloneTag);\n        }\n    }\n    return oldTag.isEqualNode(newTag);\n}\nfunction updateElements(type, components) {\n    const headEl = document.getElementsByTagName('head')[0];\n    const headCountEl = headEl.querySelector('meta[name=next-head-count]');\n    if (process.env.NODE_ENV !== 'production') {\n        if (!headCountEl) {\n            console.error('Warning: next-head-count is missing. https://nextjs.org/docs/messages/next-head-count-missing');\n            return;\n        }\n    }\n    const headCount = Number(headCountEl.content);\n    const oldTags = [];\n    for(let i = 0, j = headCountEl.previousElementSibling; i < headCount; i++, j = (j == null ? void 0 : j.previousElementSibling) || null){\n        var ref;\n        if ((j == null ? void 0 : (ref = j.tagName) == null ? void 0 : ref.toLowerCase()) === type) {\n            oldTags.push(j);\n        }\n    }\n    const newTags = components.map(reactElementToDOM).filter((newTag)=>{\n        for(let k = 0, len = oldTags.length; k < len; k++){\n            const oldTag = oldTags[k];\n            if (isEqualNode(oldTag, newTag)) {\n                oldTags.splice(k, 1);\n                return false;\n            }\n        }\n        return true;\n    });\n    oldTags.forEach((t)=>{\n        var ref;\n        return (ref = t.parentNode) == null ? void 0 : ref.removeChild(t);\n    });\n    newTags.forEach((t)=>headEl.insertBefore(t, headCountEl));\n    headCountEl.content = (headCount - oldTags.length + newTags.length).toString();\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=head-manager.js.map"]},"metadata":{},"sourceType":"script"}