{"ast":null,"code":"\"client\";\n\"use strict\";\n\nvar _slicedToArray = require(\"/Users/sam/Documents/sites/react-bee/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _interop_require_default = require(\"@swc/helpers/lib/_interop_require_default.js\").default;\nvar _object_without_properties_loose = require(\"@swc/helpers/lib/_object_without_properties_loose.js\").default;\nvar _react = _interop_require_default(require(\"react\"));\nvar _router = require(\"../shared/lib/router/router\");\nvar _addLocale = require(\"./add-locale\");\nvar _routerContext = require(\"../shared/lib/router-context\");\nvar _appRouterContext = require(\"../shared/lib/app-router-context\");\nvar _useIntersection = require(\"./use-intersection\");\nvar _getDomainLocale = require(\"./get-domain-locale\");\nvar _addBasePath = require(\"./add-base-path\");\n'client';\nvar prefetched = {};\nfunction prefetch(router, href, as, options) {\n  if (typeof window === 'undefined' || !router) return;\n  if (!(0, _router).isLocalURL(href)) return;\n  // Prefetch the JSON page if asked (only in the client)\n  // We need to handle a prefetch error here since we may be\n  // loading with priority which can reject but we don't\n  // want to force navigation since this is only a prefetch\n  Promise.resolve(router.prefetch(href, as, options)).catch(function (err) {\n    if (process.env.NODE_ENV !== 'production') {\n      // rethrow to show invalid URL errors\n      throw err;\n    }\n  });\n  var curLocale = options && typeof options.locale !== 'undefined' ? options.locale : router && router.locale;\n  // Join on an invalid URI character\n  prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')] = true;\n}\nfunction isModifiedEvent(event) {\n  var target = event.currentTarget.target;\n  return target && target !== '_self' || event.metaKey || event.ctrlKey || event.shiftKey || event.altKey || event.nativeEvent && event.nativeEvent.which === 2;\n}\nfunction linkClicked(e, router, href, as, replace, shallow, scroll, locale, isAppRouter, prefetchEnabled) {\n  var nodeName = e.currentTarget.nodeName;\n  // anchors inside an svg have a lowercase nodeName\n  var isAnchorNodeName = nodeName.toUpperCase() === 'A';\n  if (isAnchorNodeName && (isModifiedEvent(e) || !(0, _router).isLocalURL(href))) {\n    // ignore click for browserâ€™s default behavior\n    return;\n  }\n  e.preventDefault();\n  var navigate = function navigate() {\n    // If the router is an NextRouter instance it will have `beforePopState`\n    if ('beforePopState' in router) {\n      router[replace ? 'replace' : 'push'](href, as, {\n        shallow: shallow,\n        locale: locale,\n        scroll: scroll\n      });\n    } else {\n      // If `beforePopState` doesn't exist on the router it's the AppRouter.\n      var method = replace ? 'replace' : 'push';\n      router[method](href, {\n        forceOptimisticNavigation: !prefetchEnabled\n      });\n    }\n  };\n  if (isAppRouter) {\n    // @ts-expect-error startTransition exists.\n    _react.default.startTransition(navigate);\n  } else {\n    navigate();\n  }\n}\nvar Link = /*#__PURE__*/_react.default.forwardRef(function LinkComponent(props, forwardedRef) {\n  if (process.env.NODE_ENV !== 'production') {\n    var createPropError = function createPropError(args) {\n      return new Error(\"Failed prop type: The prop `\".concat(args.key, \"` expects a \").concat(args.expected, \" in `<Link>`, but got `\").concat(args.actual, \"` instead.\") + (typeof window !== 'undefined' ? \"\\nOpen your browser's console to view the Component stack trace.\" : ''));\n    }; // TypeScript trick for type-guarding:\n    var requiredPropsGuard = {\n      href: true\n    };\n    var requiredProps = Object.keys(requiredPropsGuard);\n    requiredProps.forEach(function (key) {\n      if (key === 'href') {\n        if (props[key] == null || typeof props[key] !== 'string' && typeof props[key] !== 'object') {\n          throw createPropError({\n            key: key,\n            expected: '`string` or `object`',\n            actual: props[key] === null ? 'null' : typeof props[key]\n          });\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var _ = key;\n      }\n    });\n    // TypeScript trick for type-guarding:\n    var optionalPropsGuard = {\n      as: true,\n      replace: true,\n      scroll: true,\n      shallow: true,\n      passHref: true,\n      prefetch: true,\n      locale: true,\n      onClick: true,\n      onMouseEnter: true,\n      onTouchStart: true,\n      legacyBehavior: true\n    };\n    var optionalProps = Object.keys(optionalPropsGuard);\n    optionalProps.forEach(function (key) {\n      var valType = typeof props[key];\n      if (key === 'as') {\n        if (props[key] && valType !== 'string' && valType !== 'object') {\n          throw createPropError({\n            key: key,\n            expected: '`string` or `object`',\n            actual: valType\n          });\n        }\n      } else if (key === 'locale') {\n        if (props[key] && valType !== 'string') {\n          throw createPropError({\n            key: key,\n            expected: '`string`',\n            actual: valType\n          });\n        }\n      } else if (key === 'onClick' || key === 'onMouseEnter' || key === 'onTouchStart') {\n        if (props[key] && valType !== 'function') {\n          throw createPropError({\n            key: key,\n            expected: '`function`',\n            actual: valType\n          });\n        }\n      } else if (key === 'replace' || key === 'scroll' || key === 'shallow' || key === 'passHref' || key === 'prefetch' || key === 'legacyBehavior') {\n        if (props[key] != null && valType !== 'boolean') {\n          throw createPropError({\n            key: key,\n            expected: '`boolean`',\n            actual: valType\n          });\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var _ = key;\n      }\n    });\n    // This hook is in a conditional but that is ok because `process.env.NODE_ENV` never changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var hasWarned = _react.default.useRef(false);\n    if (props.prefetch && !hasWarned.current) {\n      hasWarned.current = true;\n      console.warn('Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://nextjs.org/docs/messages/prefetch-true-deprecated');\n    }\n  }\n  var children;\n  var hrefProp = props.href,\n    asProp = props.as,\n    childrenProp = props.children,\n    prefetchProp = props.prefetch,\n    passHref = props.passHref,\n    replace = props.replace,\n    shallow = props.shallow,\n    scroll = props.scroll,\n    locale = props.locale,\n    _onClick = props.onClick,\n    _onMouseEnter = props.onMouseEnter,\n    _onTouchStart = props.onTouchStart,\n    _props$legacyBehavior = props.legacyBehavior,\n    legacyBehavior = _props$legacyBehavior === void 0 ? Boolean(process.env.__NEXT_NEW_LINK_BEHAVIOR) !== true : _props$legacyBehavior,\n    restProps = _object_without_properties_loose(props, [\"href\", \"as\", \"children\", \"prefetch\", \"passHref\", \"replace\", \"shallow\", \"scroll\", \"locale\", \"onClick\", \"onMouseEnter\", \"onTouchStart\", \"legacyBehavior\"]);\n  children = childrenProp;\n  if (legacyBehavior && (typeof children === 'string' || typeof children === 'number')) {\n    children = /*#__PURE__*/_react.default.createElement(\"a\", null, children);\n  }\n  var p = prefetchProp !== false;\n  var router = _react.default.useContext(_routerContext.RouterContext);\n  // TODO-APP: type error. Remove `as any`\n  var appRouter = _react.default.useContext(_appRouterContext.AppRouterContext);\n  if (appRouter) {\n    router = appRouter;\n  }\n  var _react$default$useMem = _react.default.useMemo(function () {\n      var _resolveHref = (0, _router).resolveHref(router, hrefProp, true),\n        _resolveHref2 = _slicedToArray(_resolveHref, 2),\n        resolvedHref = _resolveHref2[0],\n        resolvedAs = _resolveHref2[1];\n      return {\n        href: resolvedHref,\n        as: asProp ? (0, _router).resolveHref(router, asProp) : resolvedAs || resolvedHref\n      };\n    }, [router, hrefProp, asProp]),\n    href = _react$default$useMem.href,\n    as = _react$default$useMem.as;\n  var previousHref = _react.default.useRef(href);\n  var previousAs = _react.default.useRef(as);\n  // This will return the first child, if multiple are provided it will throw an error\n  var child;\n  if (legacyBehavior) {\n    if (process.env.NODE_ENV === 'development') {\n      if (_onClick) {\n        console.warn(\"\\\"onClick\\\" was passed to <Link> with `href` of `\".concat(hrefProp, \"` but \\\"legacyBehavior\\\" was set. The legacy behavior requires onClick be set on the child of next/link\"));\n      }\n      if (_onMouseEnter) {\n        console.warn(\"\\\"onMouseEnter\\\" was passed to <Link> with `href` of `\".concat(hrefProp, \"` but \\\"legacyBehavior\\\" was set. The legacy behavior requires onMouseEnter be set on the child of next/link\"));\n      }\n      try {\n        child = _react.default.Children.only(children);\n      } catch (err) {\n        if (!children) {\n          throw new Error(\"No children were passed to <Link> with `href` of `\".concat(hrefProp, \"` but one child is required https://nextjs.org/docs/messages/link-no-children\"));\n        }\n        throw new Error(\"Multiple children were passed to <Link> with `href` of `\".concat(hrefProp, \"` but only one child is supported https://nextjs.org/docs/messages/link-multiple-children\") + (typeof window !== 'undefined' ? \" \\nOpen your browser's console to view the Component stack trace.\" : ''));\n      }\n    } else {\n      child = _react.default.Children.only(children);\n    }\n  }\n  var childRef = legacyBehavior ? child && typeof child === 'object' && child.ref : forwardedRef;\n  var _useIntersection2 = (0, _useIntersection).useIntersection({\n      rootMargin: '200px'\n    }),\n    _useIntersection3 = _slicedToArray(_useIntersection2, 3),\n    setIntersectionRef = _useIntersection3[0],\n    isVisible = _useIntersection3[1],\n    resetVisible = _useIntersection3[2];\n  var setRef = _react.default.useCallback(function (el) {\n    // Before the link getting observed, check if visible state need to be reset\n    if (previousAs.current !== as || previousHref.current !== href) {\n      resetVisible();\n      previousAs.current = as;\n      previousHref.current = href;\n    }\n    setIntersectionRef(el);\n    if (childRef) {\n      if (typeof childRef === 'function') childRef(el);else if (typeof childRef === 'object') {\n        childRef.current = el;\n      }\n    }\n  }, [as, childRef, href, resetVisible, setIntersectionRef]);\n  _react.default.useEffect(function () {\n    var shouldPrefetch = isVisible && p && (0, _router).isLocalURL(href);\n    var curLocale = typeof locale !== 'undefined' ? locale : router && router.locale;\n    var isPrefetched = prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')];\n    if (shouldPrefetch && !isPrefetched) {\n      prefetch(router, href, as, {\n        locale: curLocale\n      });\n    }\n  }, [as, href, isVisible, locale, p, router]);\n  var childProps = {\n    ref: setRef,\n    onClick: function onClick(e) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (!e) {\n          throw new Error(\"Component rendered inside next/link has to pass click event to \\\"onClick\\\" prop.\");\n        }\n      }\n      if (!legacyBehavior && typeof _onClick === 'function') {\n        _onClick(e);\n      }\n      if (legacyBehavior && child.props && typeof child.props.onClick === 'function') {\n        child.props.onClick(e);\n      }\n      if (!e.defaultPrevented) {\n        linkClicked(e, router, href, as, replace, shallow, scroll, locale, Boolean(appRouter), p);\n      }\n    },\n    onMouseEnter: function onMouseEnter(e) {\n      if (!legacyBehavior && typeof _onMouseEnter === 'function') {\n        _onMouseEnter(e);\n      }\n      if (legacyBehavior && child.props && typeof child.props.onMouseEnter === 'function') {\n        child.props.onMouseEnter(e);\n      }\n      // Check for not prefetch disabled in page using appRouter\n      if (!(!p && appRouter)) {\n        if ((0, _router).isLocalURL(href)) {\n          prefetch(router, href, as, {\n            priority: true\n          });\n        }\n      }\n    },\n    onTouchStart: function onTouchStart(e) {\n      if (!legacyBehavior && typeof _onTouchStart === 'function') {\n        _onTouchStart(e);\n      }\n      if (legacyBehavior && child.props && typeof child.props.onTouchStart === 'function') {\n        child.props.onTouchStart(e);\n      }\n      // Check for not prefetch disabled in page using appRouter\n      if (!(!p && appRouter)) {\n        if ((0, _router).isLocalURL(href)) {\n          prefetch(router, href, as, {\n            priority: true\n          });\n        }\n      }\n    }\n  };\n  // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n  // defined, we specify the current 'href', so that repetition is not needed by the user\n  if (!legacyBehavior || passHref || child.type === 'a' && !('href' in child.props)) {\n    var curLocale = typeof locale !== 'undefined' ? locale : router && router.locale;\n    // we only render domain locales if we are currently on a domain locale\n    // so that locale links are still visitable in development/preview envs\n    var localeDomain = router && router.isLocaleDomain && (0, _getDomainLocale).getDomainLocale(as, curLocale, router.locales, router.domainLocales);\n    childProps.href = localeDomain || (0, _addBasePath).addBasePath((0, _addLocale).addLocale(as, curLocale, router && router.defaultLocale));\n  }\n  return legacyBehavior ? /*#__PURE__*/_react.default.cloneElement(child, childProps) : /*#__PURE__*/_react.default.createElement(\"a\", Object.assign({}, restProps, childProps), children);\n});\nvar _default = Link;\nexports.default = _default;\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', {\n    value: true\n  });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}","map":{"version":3,"sources":["../../client/link.tsx"],"names":["prefetched","prefetch","router","window","isLocalURL","Promise","process","env","NODE_ENV","event","currentTarget","target","isAnchorNodeName","isModifiedEvent","e","shallow","locale","scroll","method","href","forceOptimisticNavigation","React","navigate","createPropError","args","requiredProps","forEach","props","key","expected","actual","as","replace","passHref","onClick","onMouseEnter","onTouchStart","legacyBehavior","optionalProps","valType","hasWarned","current","console","warn","children","useContext","appRouter","resolvedHref","resolvedAs","resolveHref","asProp","hrefProp","previousAs","useRef","child","err","Error","setIntersectionRef","isVisible","resetVisible","useIntersection","rootMargin","previousHref","childRef","el","shouldPrefetch","curLocale","isPrefetched","p","ref","linkClicked","priority","childProps","localeDomain","addBasePath","addLocale","defaultLocale","Link"],"mappings":"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","sourcesContent":["\"client\";\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = void 0;\nvar _interop_require_default = require(\"@swc/helpers/lib/_interop_require_default.js\").default;\nvar _object_without_properties_loose = require(\"@swc/helpers/lib/_object_without_properties_loose.js\").default;\nvar _react = _interop_require_default(require(\"react\"));\nvar _router = require(\"../shared/lib/router/router\");\nvar _addLocale = require(\"./add-locale\");\nvar _routerContext = require(\"../shared/lib/router-context\");\nvar _appRouterContext = require(\"../shared/lib/app-router-context\");\nvar _useIntersection = require(\"./use-intersection\");\nvar _getDomainLocale = require(\"./get-domain-locale\");\nvar _addBasePath = require(\"./add-base-path\");\n'client';\nconst prefetched = {};\nfunction prefetch(router, href, as, options) {\n    if (typeof window === 'undefined' || !router) return;\n    if (!(0, _router).isLocalURL(href)) return;\n    // Prefetch the JSON page if asked (only in the client)\n    // We need to handle a prefetch error here since we may be\n    // loading with priority which can reject but we don't\n    // want to force navigation since this is only a prefetch\n    Promise.resolve(router.prefetch(href, as, options)).catch((err)=>{\n        if (process.env.NODE_ENV !== 'production') {\n            // rethrow to show invalid URL errors\n            throw err;\n        }\n    });\n    const curLocale = options && typeof options.locale !== 'undefined' ? options.locale : router && router.locale;\n    // Join on an invalid URI character\n    prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')] = true;\n}\nfunction isModifiedEvent(event) {\n    const { target  } = event.currentTarget;\n    return target && target !== '_self' || event.metaKey || event.ctrlKey || event.shiftKey || event.altKey || event.nativeEvent && event.nativeEvent.which === 2;\n}\nfunction linkClicked(e, router, href, as, replace, shallow, scroll, locale, isAppRouter, prefetchEnabled) {\n    const { nodeName  } = e.currentTarget;\n    // anchors inside an svg have a lowercase nodeName\n    const isAnchorNodeName = nodeName.toUpperCase() === 'A';\n    if (isAnchorNodeName && (isModifiedEvent(e) || !(0, _router).isLocalURL(href))) {\n        // ignore click for browserâ€™s default behavior\n        return;\n    }\n    e.preventDefault();\n    const navigate = ()=>{\n        // If the router is an NextRouter instance it will have `beforePopState`\n        if ('beforePopState' in router) {\n            router[replace ? 'replace' : 'push'](href, as, {\n                shallow,\n                locale,\n                scroll\n            });\n        } else {\n            // If `beforePopState` doesn't exist on the router it's the AppRouter.\n            const method = replace ? 'replace' : 'push';\n            router[method](href, {\n                forceOptimisticNavigation: !prefetchEnabled\n            });\n        }\n    };\n    if (isAppRouter) {\n        // @ts-expect-error startTransition exists.\n        _react.default.startTransition(navigate);\n    } else {\n        navigate();\n    }\n}\nconst Link = /*#__PURE__*/ _react.default.forwardRef(function LinkComponent(props, forwardedRef) {\n    if (process.env.NODE_ENV !== 'production') {\n        function createPropError(args) {\n            return new Error(`Failed prop type: The prop \\`${args.key}\\` expects a ${args.expected} in \\`<Link>\\`, but got \\`${args.actual}\\` instead.` + (typeof window !== 'undefined' ? \"\\nOpen your browser's console to view the Component stack trace.\" : ''));\n        }\n        // TypeScript trick for type-guarding:\n        const requiredPropsGuard = {\n            href: true\n        };\n        const requiredProps = Object.keys(requiredPropsGuard);\n        requiredProps.forEach((key)=>{\n            if (key === 'href') {\n                if (props[key] == null || typeof props[key] !== 'string' && typeof props[key] !== 'object') {\n                    throw createPropError({\n                        key,\n                        expected: '`string` or `object`',\n                        actual: props[key] === null ? 'null' : typeof props[key]\n                    });\n                }\n            } else {\n                // TypeScript trick for type-guarding:\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                const _ = key;\n            }\n        });\n        // TypeScript trick for type-guarding:\n        const optionalPropsGuard = {\n            as: true,\n            replace: true,\n            scroll: true,\n            shallow: true,\n            passHref: true,\n            prefetch: true,\n            locale: true,\n            onClick: true,\n            onMouseEnter: true,\n            onTouchStart: true,\n            legacyBehavior: true\n        };\n        const optionalProps = Object.keys(optionalPropsGuard);\n        optionalProps.forEach((key)=>{\n            const valType = typeof props[key];\n            if (key === 'as') {\n                if (props[key] && valType !== 'string' && valType !== 'object') {\n                    throw createPropError({\n                        key,\n                        expected: '`string` or `object`',\n                        actual: valType\n                    });\n                }\n            } else if (key === 'locale') {\n                if (props[key] && valType !== 'string') {\n                    throw createPropError({\n                        key,\n                        expected: '`string`',\n                        actual: valType\n                    });\n                }\n            } else if (key === 'onClick' || key === 'onMouseEnter' || key === 'onTouchStart') {\n                if (props[key] && valType !== 'function') {\n                    throw createPropError({\n                        key,\n                        expected: '`function`',\n                        actual: valType\n                    });\n                }\n            } else if (key === 'replace' || key === 'scroll' || key === 'shallow' || key === 'passHref' || key === 'prefetch' || key === 'legacyBehavior') {\n                if (props[key] != null && valType !== 'boolean') {\n                    throw createPropError({\n                        key,\n                        expected: '`boolean`',\n                        actual: valType\n                    });\n                }\n            } else {\n                // TypeScript trick for type-guarding:\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                const _ = key;\n            }\n        });\n        // This hook is in a conditional but that is ok because `process.env.NODE_ENV` never changes\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        const hasWarned = _react.default.useRef(false);\n        if (props.prefetch && !hasWarned.current) {\n            hasWarned.current = true;\n            console.warn('Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://nextjs.org/docs/messages/prefetch-true-deprecated');\n        }\n    }\n    let children;\n    const { href: hrefProp , as: asProp , children: childrenProp , prefetch: prefetchProp , passHref , replace , shallow , scroll , locale , onClick , onMouseEnter , onTouchStart , legacyBehavior =Boolean(process.env.__NEXT_NEW_LINK_BEHAVIOR) !== true  } = props, restProps = _object_without_properties_loose(props, [\n        \"href\",\n        \"as\",\n        \"children\",\n        \"prefetch\",\n        \"passHref\",\n        \"replace\",\n        \"shallow\",\n        \"scroll\",\n        \"locale\",\n        \"onClick\",\n        \"onMouseEnter\",\n        \"onTouchStart\",\n        \"legacyBehavior\"\n    ]);\n    children = childrenProp;\n    if (legacyBehavior && (typeof children === 'string' || typeof children === 'number')) {\n        children = /*#__PURE__*/ _react.default.createElement(\"a\", null, children);\n    }\n    const p = prefetchProp !== false;\n    let router = _react.default.useContext(_routerContext.RouterContext);\n    // TODO-APP: type error. Remove `as any`\n    const appRouter = _react.default.useContext(_appRouterContext.AppRouterContext);\n    if (appRouter) {\n        router = appRouter;\n    }\n    const { href , as  } = _react.default.useMemo(()=>{\n        const [resolvedHref, resolvedAs] = (0, _router).resolveHref(router, hrefProp, true);\n        return {\n            href: resolvedHref,\n            as: asProp ? (0, _router).resolveHref(router, asProp) : resolvedAs || resolvedHref\n        };\n    }, [\n        router,\n        hrefProp,\n        asProp\n    ]);\n    const previousHref = _react.default.useRef(href);\n    const previousAs = _react.default.useRef(as);\n    // This will return the first child, if multiple are provided it will throw an error\n    let child;\n    if (legacyBehavior) {\n        if (process.env.NODE_ENV === 'development') {\n            if (onClick) {\n                console.warn(`\"onClick\" was passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but \"legacyBehavior\" was set. The legacy behavior requires onClick be set on the child of next/link`);\n            }\n            if (onMouseEnter) {\n                console.warn(`\"onMouseEnter\" was passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but \"legacyBehavior\" was set. The legacy behavior requires onMouseEnter be set on the child of next/link`);\n            }\n            try {\n                child = _react.default.Children.only(children);\n            } catch (err) {\n                if (!children) {\n                    throw new Error(`No children were passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but one child is required https://nextjs.org/docs/messages/link-no-children`);\n                }\n                throw new Error(`Multiple children were passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but only one child is supported https://nextjs.org/docs/messages/link-multiple-children` + (typeof window !== 'undefined' ? \" \\nOpen your browser's console to view the Component stack trace.\" : ''));\n            }\n        } else {\n            child = _react.default.Children.only(children);\n        }\n    }\n    const childRef = legacyBehavior ? child && typeof child === 'object' && child.ref : forwardedRef;\n    const [setIntersectionRef, isVisible, resetVisible] = (0, _useIntersection).useIntersection({\n        rootMargin: '200px'\n    });\n    const setRef = _react.default.useCallback((el)=>{\n        // Before the link getting observed, check if visible state need to be reset\n        if (previousAs.current !== as || previousHref.current !== href) {\n            resetVisible();\n            previousAs.current = as;\n            previousHref.current = href;\n        }\n        setIntersectionRef(el);\n        if (childRef) {\n            if (typeof childRef === 'function') childRef(el);\n            else if (typeof childRef === 'object') {\n                childRef.current = el;\n            }\n        }\n    }, [\n        as,\n        childRef,\n        href,\n        resetVisible,\n        setIntersectionRef\n    ]);\n    _react.default.useEffect(()=>{\n        const shouldPrefetch = isVisible && p && (0, _router).isLocalURL(href);\n        const curLocale = typeof locale !== 'undefined' ? locale : router && router.locale;\n        const isPrefetched = prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')];\n        if (shouldPrefetch && !isPrefetched) {\n            prefetch(router, href, as, {\n                locale: curLocale\n            });\n        }\n    }, [\n        as,\n        href,\n        isVisible,\n        locale,\n        p,\n        router\n    ]);\n    const childProps = {\n        ref: setRef,\n        onClick: (e)=>{\n            if (process.env.NODE_ENV !== 'production') {\n                if (!e) {\n                    throw new Error(`Component rendered inside next/link has to pass click event to \"onClick\" prop.`);\n                }\n            }\n            if (!legacyBehavior && typeof onClick === 'function') {\n                onClick(e);\n            }\n            if (legacyBehavior && child.props && typeof child.props.onClick === 'function') {\n                child.props.onClick(e);\n            }\n            if (!e.defaultPrevented) {\n                linkClicked(e, router, href, as, replace, shallow, scroll, locale, Boolean(appRouter), p);\n            }\n        },\n        onMouseEnter: (e)=>{\n            if (!legacyBehavior && typeof onMouseEnter === 'function') {\n                onMouseEnter(e);\n            }\n            if (legacyBehavior && child.props && typeof child.props.onMouseEnter === 'function') {\n                child.props.onMouseEnter(e);\n            }\n            // Check for not prefetch disabled in page using appRouter\n            if (!(!p && appRouter)) {\n                if ((0, _router).isLocalURL(href)) {\n                    prefetch(router, href, as, {\n                        priority: true\n                    });\n                }\n            }\n        },\n        onTouchStart: (e)=>{\n            if (!legacyBehavior && typeof onTouchStart === 'function') {\n                onTouchStart(e);\n            }\n            if (legacyBehavior && child.props && typeof child.props.onTouchStart === 'function') {\n                child.props.onTouchStart(e);\n            }\n            // Check for not prefetch disabled in page using appRouter\n            if (!(!p && appRouter)) {\n                if ((0, _router).isLocalURL(href)) {\n                    prefetch(router, href, as, {\n                        priority: true\n                    });\n                }\n            }\n        }\n    };\n    // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n    // defined, we specify the current 'href', so that repetition is not needed by the user\n    if (!legacyBehavior || passHref || child.type === 'a' && !('href' in child.props)) {\n        const curLocale = typeof locale !== 'undefined' ? locale : router && router.locale;\n        // we only render domain locales if we are currently on a domain locale\n        // so that locale links are still visitable in development/preview envs\n        const localeDomain = router && router.isLocaleDomain && (0, _getDomainLocale).getDomainLocale(as, curLocale, router.locales, router.domainLocales);\n        childProps.href = localeDomain || (0, _addBasePath).addBasePath((0, _addLocale).addLocale(as, curLocale, router && router.defaultLocale));\n    }\n    return legacyBehavior ? /*#__PURE__*/ _react.default.cloneElement(child, childProps) : /*#__PURE__*/ _react.default.createElement(\"a\", Object.assign({}, restProps, childProps), children);\n});\nvar _default = Link;\nexports.default = _default;\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=link.js.map"]},"metadata":{},"sourceType":"script"}