{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.formatUrl = formatUrl;\nexports.formatWithValidation = formatWithValidation;\nexports.urlObjectKeys = void 0;\nvar _interop_require_wildcard = require(\"@swc/helpers/lib/_interop_require_wildcard.js\").default;\nvar querystring = _interop_require_wildcard(require(\"./querystring\"));\nvar slashedProtocols = /https?|ftp|gopher|file/;\nfunction formatUrl(urlObj) {\n  var auth = urlObj.auth,\n    hostname = urlObj.hostname;\n  var protocol = urlObj.protocol || '';\n  var pathname = urlObj.pathname || '';\n  var hash = urlObj.hash || '';\n  var query = urlObj.query || '';\n  var host = false;\n  auth = auth ? encodeURIComponent(auth).replace(/%3A/i, ':') + '@' : '';\n  if (urlObj.host) {\n    host = auth + urlObj.host;\n  } else if (hostname) {\n    host = auth + (~hostname.indexOf(':') ? \"[\".concat(hostname, \"]\") : hostname);\n    if (urlObj.port) {\n      host += ':' + urlObj.port;\n    }\n  }\n  if (query && typeof query === 'object') {\n    query = String(querystring.urlQueryToSearchParams(query));\n  }\n  var search = urlObj.search || query && \"?\".concat(query) || '';\n  if (protocol && !protocol.endsWith(':')) protocol += ':';\n  if (urlObj.slashes || (!protocol || slashedProtocols.test(protocol)) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname[0] !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n  if (hash && hash[0] !== '#') hash = '#' + hash;\n  if (search && search[0] !== '?') search = '?' + search;\n  pathname = pathname.replace(/[?#]/g, encodeURIComponent);\n  search = search.replace('#', '%23');\n  return \"\".concat(protocol).concat(host).concat(pathname).concat(search).concat(hash);\n}\nvar urlObjectKeys = ['auth', 'hash', 'host', 'hostname', 'href', 'path', 'pathname', 'port', 'protocol', 'query', 'search', 'slashes'];\nexports.urlObjectKeys = urlObjectKeys;\nfunction formatWithValidation(url) {\n  if (process.env.NODE_ENV === 'development') {\n    if (url !== null && typeof url === 'object') {\n      Object.keys(url).forEach(function (key) {\n        if (urlObjectKeys.indexOf(key) === -1) {\n          console.warn(\"Unknown key passed via urlObject into url.format: \".concat(key));\n        }\n      });\n    }\n  }\n  return formatUrl(url);\n}","map":{"version":3,"sources":["../../../../../shared/lib/router/utils/format-url.ts"],"names":["querystring","slashedProtocols","formatUrl","urlObj","auth","hostname","protocol","pathname","hash","query","host","encodeURIComponent","replace","indexOf","port","String","urlQueryToSearchParams","search","endsWith","slashes","test","urlObjectKeys","formatWithValidation","url","process","env","NODE_ENV","Object","keys","forEach","key","console","warn"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.formatUrl = formatUrl;\nexports.formatWithValidation = formatWithValidation;\nexports.urlObjectKeys = void 0;\nvar _interop_require_wildcard = require(\"@swc/helpers/lib/_interop_require_wildcard.js\").default;\nvar querystring = _interop_require_wildcard(require(\"./querystring\"));\nconst slashedProtocols = /https?|ftp|gopher|file/;\nfunction formatUrl(urlObj) {\n    let { auth , hostname  } = urlObj;\n    let protocol = urlObj.protocol || '';\n    let pathname = urlObj.pathname || '';\n    let hash = urlObj.hash || '';\n    let query = urlObj.query || '';\n    let host = false;\n    auth = auth ? encodeURIComponent(auth).replace(/%3A/i, ':') + '@' : '';\n    if (urlObj.host) {\n        host = auth + urlObj.host;\n    } else if (hostname) {\n        host = auth + (~hostname.indexOf(':') ? `[${hostname}]` : hostname);\n        if (urlObj.port) {\n            host += ':' + urlObj.port;\n        }\n    }\n    if (query && typeof query === 'object') {\n        query = String(querystring.urlQueryToSearchParams(query));\n    }\n    let search = urlObj.search || query && `?${query}` || '';\n    if (protocol && !protocol.endsWith(':')) protocol += ':';\n    if (urlObj.slashes || (!protocol || slashedProtocols.test(protocol)) && host !== false) {\n        host = '//' + (host || '');\n        if (pathname && pathname[0] !== '/') pathname = '/' + pathname;\n    } else if (!host) {\n        host = '';\n    }\n    if (hash && hash[0] !== '#') hash = '#' + hash;\n    if (search && search[0] !== '?') search = '?' + search;\n    pathname = pathname.replace(/[?#]/g, encodeURIComponent);\n    search = search.replace('#', '%23');\n    return `${protocol}${host}${pathname}${search}${hash}`;\n}\nconst urlObjectKeys = [\n    'auth',\n    'hash',\n    'host',\n    'hostname',\n    'href',\n    'path',\n    'pathname',\n    'port',\n    'protocol',\n    'query',\n    'search',\n    'slashes', \n];\nexports.urlObjectKeys = urlObjectKeys;\nfunction formatWithValidation(url) {\n    if (process.env.NODE_ENV === 'development') {\n        if (url !== null && typeof url === 'object') {\n            Object.keys(url).forEach((key)=>{\n                if (urlObjectKeys.indexOf(key) === -1) {\n                    console.warn(`Unknown key passed via urlObject into url.format: ${key}`);\n                }\n            });\n        }\n    }\n    return formatUrl(url);\n}\n\n//# sourceMappingURL=format-url.js.map"]},"metadata":{},"sourceType":"script"}