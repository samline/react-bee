{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.formatNextPathnameInfo = formatNextPathnameInfo;\n\nvar _removeTrailingSlash = require(\"./remove-trailing-slash\");\n\nvar _addPathPrefix = require(\"./add-path-prefix\");\n\nvar _addPathSuffix = require(\"./add-path-suffix\");\n\nvar _addLocale = require(\"./add-locale\");\n\nfunction formatNextPathnameInfo(info) {\n  var pathname = (0, _addLocale).addLocale(info.pathname, info.locale, info.buildId ? undefined : info.defaultLocale, info.ignorePrefix);\n\n  if (info.buildId) {\n    pathname = (0, _addPathSuffix).addPathSuffix((0, _addPathPrefix).addPathPrefix(pathname, \"/_next/data/\".concat(info.buildId)), info.pathname === '/' ? 'index.json' : '.json');\n  }\n\n  pathname = (0, _addPathPrefix).addPathPrefix(pathname, info.basePath);\n  return info.trailingSlash ? !info.buildId && !pathname.endsWith('/') ? (0, _addPathSuffix).addPathSuffix(pathname, '/') : pathname : (0, _removeTrailingSlash).removeTrailingSlash(pathname);\n}","map":{"version":3,"sources":["../../../../../shared/lib/router/utils/format-next-pathname-info.ts"],"names":["formatNextPathnameInfo","info","pathname","addLocale","locale","buildId","undefined","defaultLocale","ignorePrefix","addPathSuffix","addPathPrefix","basePath","trailingSlash","endsWith","removeTrailingSlash"],"mappings":"AAAA;;;;;QAWgBA,sB,GAAAA,sB;;AAVoB,IAAA,oBAAyB,GAAA,OAAA,CAAzB,yBAAyB,CAAzB;;AACN,IAAA,cAAmB,GAAA,OAAA,CAAnB,mBAAmB,CAAnB;;AACA,IAAA,cAAmB,GAAA,OAAA,CAAnB,mBAAmB,CAAnB;;AACJ,IAAA,UAAc,GAAA,OAAA,CAAd,cAAc,CAAd;;AAOnB,SAASA,sBAAT,CAAgCC,IAAhC,EAAoD;EACzD,IAAIC,QAAQ,GAAGC,CAAAA,GAAAA,UAAAA,EAAS,SAATA,CACbF,IAAI,CAACC,QADQC,EAEbF,IAAI,CAACG,MAFQD,EAGbF,IAAI,CAACI,OAALJ,GAAeK,SAAfL,GAA2BA,IAAI,CAACM,aAHnBJ,EAIbF,IAAI,CAACO,YAJQL,CAAf;;EAOA,IAAIF,IAAI,CAACI,OAAT,EAAkB;IAChBH,QAAQ,GAAGO,CAAAA,GAAAA,cAAAA,EAAa,aAAbA,CACTC,CAAAA,GAAAA,cAAAA,EAAa,aAAbA,CAAcR,QAAdQ,wBAAuCT,IAAI,CAACI,OAA5CK,EADSD,EAETR,IAAI,CAACC,QAALD,KAAkB,GAAlBA,GAAwB,YAAxBA,GAAuC,OAF9BQ,CAAXP;EAID;;EAEDA,QAAQ,GAAGQ,CAAAA,GAAAA,cAAAA,EAAa,aAAbA,CAAcR,QAAdQ,EAAwBT,IAAI,CAACU,QAA7BD,CAAXR;EACA,OAAOD,IAAI,CAACW,aAALX,GACH,CAACA,IAAI,CAACI,OAAN,IAAiB,CAACH,QAAQ,CAACW,QAATX,CAAkB,GAAlBA,CAAlB,GACEO,CAAAA,GAAAA,cAAAA,EAAa,aAAbA,CAAcP,QAAdO,EAAwB,GAAxBA,CADF,GAEEP,QAHCD,GAIHa,CAAAA,GAAAA,oBAAAA,EAAmB,mBAAnBA,CAAoBZ,QAApBY,CAJJ;AAKD","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.formatNextPathnameInfo = formatNextPathnameInfo;\nvar _removeTrailingSlash = require(\"./remove-trailing-slash\");\nvar _addPathPrefix = require(\"./add-path-prefix\");\nvar _addPathSuffix = require(\"./add-path-suffix\");\nvar _addLocale = require(\"./add-locale\");\nfunction formatNextPathnameInfo(info) {\n    let pathname = (0, _addLocale).addLocale(info.pathname, info.locale, info.buildId ? undefined : info.defaultLocale, info.ignorePrefix);\n    if (info.buildId) {\n        pathname = (0, _addPathSuffix).addPathSuffix((0, _addPathPrefix).addPathPrefix(pathname, `/_next/data/${info.buildId}`), info.pathname === '/' ? 'index.json' : '.json');\n    }\n    pathname = (0, _addPathPrefix).addPathPrefix(pathname, info.basePath);\n    return info.trailingSlash ? !info.buildId && !pathname.endsWith('/') ? (0, _addPathSuffix).addPathSuffix(pathname, '/') : pathname : (0, _removeTrailingSlash).removeTrailingSlash(pathname);\n}\n\n//# sourceMappingURL=format-next-pathname-info.js.map"]},"metadata":{},"sourceType":"script"}