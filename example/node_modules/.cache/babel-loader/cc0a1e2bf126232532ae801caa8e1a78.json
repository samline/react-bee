{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getRouteMatcher = getRouteMatcher;\n\nvar _utils = require(\"../../utils\");\n\nfunction getRouteMatcher(_ref) {\n  var re = _ref.re,\n      groups = _ref.groups;\n  return function (pathname) {\n    var routeMatch = re.exec(pathname);\n\n    if (!routeMatch) {\n      return false;\n    }\n\n    var decode = function decode(param) {\n      try {\n        return decodeURIComponent(param);\n      } catch (_) {\n        throw new _utils.DecodeError('failed to decode param');\n      }\n    };\n\n    var params = {};\n    Object.keys(groups).forEach(function (slugName) {\n      var g = groups[slugName];\n      var m = routeMatch[g.pos];\n\n      if (m !== undefined) {\n        params[slugName] = ~m.indexOf('/') ? m.split('/').map(function (entry) {\n          return decode(entry);\n        }) : g.repeat ? [decode(m)] : decode(m);\n      }\n    });\n    return params;\n  };\n}","map":{"version":3,"sources":["../../../../../shared/lib/router/utils/route-matcher.ts"],"names":["getRouteMatcher","re","groups","pathname","routeMatch","exec","decode","param","decodeURIComponent","_","DecodeError","params","Object","keys","forEach","slugName","g","m","pos","undefined","indexOf","split","map","entry","repeat"],"mappings":"AAAA;;;;;QAWgBA,e,GAAAA,e;;AAVY,IAAA,MAAa,GAAA,OAAA,CAAb,aAAa,CAAb;;AAUrB,SAASA,eAAT,OAAiE;EAAA,IAAtCC,EAAsC,QAAtCA,EAAsC;EAAA,IAAlCC,MAAkC,QAAlCA,MAAkC;EACtE,OAAO,UAACC,QAAD,EAAyC;IAC9C,IAAMC,UAAU,GAAGH,EAAE,CAACI,IAAHJ,CAAQE,QAARF,CAAnB;;IACA,IAAI,CAACG,UAAL,EAAiB;MACf,OAAO,KAAP;IACD;;IAED,IAAME,MAAM,GAAG,SAATA,MAAS,CAACC,KAAD,EAAmB;MAChC,IAAI;QACF,OAAOC,kBAAkB,CAACD,KAAD,CAAzB;MACD,CAFD,CAEE,OAAOE,CAAP,EAAU;QACV,MAAM,IAAIC,MAAW,CAAA,WAAf,CAAgB,wBAAhB,CAAN;MACD;IACF,CAND;;IAOA,IAAMC,MAAM,GAA+C,EAA3D;IAEAC,MAAM,CAACC,IAAPD,CAAYV,MAAZU,EAAoBE,OAApBF,CAA4B,UAACG,QAAD,EAAsB;MAChD,IAAMC,CAAC,GAAGd,MAAM,CAACa,QAAD,CAAhB;MACA,IAAME,CAAC,GAAGb,UAAU,CAACY,CAAC,CAACE,GAAH,CAApB;;MACA,IAAID,CAAC,KAAKE,SAAV,EAAqB;QACnBR,MAAM,CAACI,QAAD,CAANJ,GAAmB,CAACM,CAAC,CAACG,OAAFH,CAAU,GAAVA,CAAD,GACfA,CAAC,CAACI,KAAFJ,CAAQ,GAARA,EAAaK,GAAbL,CAAiB,UAACM,KAAD;UAAA,OAAWjB,MAAM,CAACiB,KAAD,CAAjB;QAAA,CAAjBN,CADe,GAEfD,CAAC,CAACQ,MAAFR,GACA,CAACV,MAAM,CAACW,CAAD,CAAP,CADAD,GAEAV,MAAM,CAACW,CAAD,CAJVN;MAKD;IACF,CAVDC;IAWA,OAAOD,MAAP;EACD,CA3BD;AA4BD","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getRouteMatcher = getRouteMatcher;\nvar _utils = require(\"../../utils\");\nfunction getRouteMatcher({ re , groups  }) {\n    return (pathname)=>{\n        const routeMatch = re.exec(pathname);\n        if (!routeMatch) {\n            return false;\n        }\n        const decode = (param)=>{\n            try {\n                return decodeURIComponent(param);\n            } catch (_) {\n                throw new _utils.DecodeError('failed to decode param');\n            }\n        };\n        const params = {};\n        Object.keys(groups).forEach((slugName)=>{\n            const g = groups[slugName];\n            const m = routeMatch[g.pos];\n            if (m !== undefined) {\n                params[slugName] = ~m.indexOf('/') ? m.split('/').map((entry)=>decode(entry)) : g.repeat ? [\n                    decode(m)\n                ] : decode(m);\n            }\n        });\n        return params;\n    };\n}\n\n//# sourceMappingURL=route-matcher.js.map"]},"metadata":{},"sourceType":"script"}