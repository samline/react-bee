{"ast":null,"code":"\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"/Users/samuel.olvera/Documents/sites/htdocs/react-bee/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nvar _construct = require(\"/Users/samuel.olvera/Documents/sites/htdocs/react-bee/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/construct\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Router\", {\n  enumerable: true,\n  get: function get() {\n    return _router.default;\n  }\n});\nObject.defineProperty(exports, \"withRouter\", {\n  enumerable: true,\n  get: function get() {\n    return _withRouter.default;\n  }\n});\nexports.useRouter = useRouter;\nexports.createRouter = createRouter;\nexports.makePublicRouterInstance = makePublicRouterInstance;\nexports.default = void 0;\n\nvar _interop_require_default = require(\"@swc/helpers/lib/_interop_require_default.js\").default;\n\nvar _react = _interop_require_default(require(\"react\"));\n\nvar _router = _interop_require_default(require(\"../shared/lib/router/router\"));\n\nvar _routerContext = require(\"../shared/lib/router-context\");\n\nvar _isError = _interop_require_default(require(\"../lib/is-error\"));\n\nvar _withRouter = _interop_require_default(require(\"./with-router\"));\n\nvar singletonRouter = {\n  router: null,\n  readyCallbacks: [],\n  ready: function ready(cb) {\n    if (this.router) return cb();\n\n    if (typeof window !== 'undefined') {\n      this.readyCallbacks.push(cb);\n    }\n  }\n}; // Create public properties and methods of the router in the singletonRouter\n\nvar urlPropertyFields = ['pathname', 'route', 'query', 'asPath', 'components', 'isFallback', 'basePath', 'locale', 'locales', 'defaultLocale', 'isReady', 'isPreview', 'isLocaleDomain', 'domainLocales'];\nvar routerEvents = ['routeChangeStart', 'beforeHistoryChange', 'routeChangeComplete', 'routeChangeError', 'hashChangeStart', 'hashChangeComplete'];\nvar coreMethodFields = ['push', 'replace', 'reload', 'back', 'prefetch', 'beforePopState']; // Events is a static property on the router, the router doesn't have to be initialized to use it\n\nObject.defineProperty(singletonRouter, 'events', {\n  get: function get() {\n    return _router.default.events;\n  }\n});\nurlPropertyFields.forEach(function (field) {\n  // Here we need to use Object.defineProperty because we need to return\n  // the property assigned to the actual router\n  // The value might get changed as we change routes and this is the\n  // proper way to access it\n  Object.defineProperty(singletonRouter, field, {\n    get: function get() {\n      var router = getRouter();\n      return router[field];\n    }\n  });\n});\ncoreMethodFields.forEach(function (field) {\n  singletonRouter[field] = function () {\n    var router = getRouter();\n    return router[field].apply(router, arguments);\n  };\n});\nrouterEvents.forEach(function (event) {\n  singletonRouter.ready(function () {\n    _router.default.events.on(event, function () {\n      var eventField = \"on\".concat(event.charAt(0).toUpperCase()).concat(event.substring(1));\n      var _singletonRouter = singletonRouter;\n\n      if (_singletonRouter[eventField]) {\n        try {\n          _singletonRouter[eventField].apply(_singletonRouter, arguments);\n        } catch (err) {\n          console.error(\"Error when running the Router event: \".concat(eventField));\n          console.error((0, _isError).default(err) ? \"\".concat(err.message, \"\\n\").concat(err.stack) : err + '');\n        }\n      }\n    });\n  });\n});\n\nfunction getRouter() {\n  if (!singletonRouter.router) {\n    var message = 'No router instance found.\\n' + 'You should only use \"next/router\" on the client side of your app.\\n';\n    throw new Error(message);\n  }\n\n  return singletonRouter.router;\n}\n\nvar _default = singletonRouter;\nexports.default = _default;\n\nfunction useRouter() {\n  return _react.default.useContext(_routerContext.RouterContext);\n}\n\nfunction createRouter() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  singletonRouter.router = _construct(_router.default, args);\n  singletonRouter.readyCallbacks.forEach(function (cb) {\n    return cb();\n  });\n  singletonRouter.readyCallbacks = [];\n  return singletonRouter.router;\n}\n\nfunction makePublicRouterInstance(router) {\n  var scopedRouter = router;\n  var instance = {};\n\n  var _iterator = _createForOfIteratorHelper(urlPropertyFields),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var property = _step.value;\n\n      if (typeof scopedRouter[property] === 'object') {\n        instance[property] = Object.assign(Array.isArray(scopedRouter[property]) ? [] : {}, scopedRouter[property]) // makes sure query is not stateful\n        ;\n        continue;\n      }\n\n      instance[property] = scopedRouter[property];\n    } // Events is a static property on the router, the router doesn't have to be initialized to use it\n\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  instance.events = _router.default.events;\n  coreMethodFields.forEach(function (field) {\n    instance[field] = function () {\n      return scopedRouter[field].apply(scopedRouter, arguments);\n    };\n  });\n  return instance;\n}\n\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', {\n    value: true\n  });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}","map":{"version":3,"sources":["../../client/router.ts"],"names":["Router","singletonRouter","router","readyCallbacks","ready","cb","window","push","urlPropertyFields","routerEvents","coreMethodFields","Object","defineProperty","get","events","forEach","field","getRouter","event","on","eventField","charAt","toUpperCase","substring","_singletonRouter","err","console","error","isError","message","stack","Error","default","withRouter","useRouter","React","useContext","RouterContext","createRouter","args","makePublicRouterInstance","scopedRouter","instance","property","assign","Array","isArray"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"Router\", {\n    enumerable: true,\n    get: function() {\n        return _router.default;\n    }\n});\nObject.defineProperty(exports, \"withRouter\", {\n    enumerable: true,\n    get: function() {\n        return _withRouter.default;\n    }\n});\nexports.useRouter = useRouter;\nexports.createRouter = createRouter;\nexports.makePublicRouterInstance = makePublicRouterInstance;\nexports.default = void 0;\nvar _interop_require_default = require(\"@swc/helpers/lib/_interop_require_default.js\").default;\nvar _react = _interop_require_default(require(\"react\"));\nvar _router = _interop_require_default(require(\"../shared/lib/router/router\"));\nvar _routerContext = require(\"../shared/lib/router-context\");\nvar _isError = _interop_require_default(require(\"../lib/is-error\"));\nvar _withRouter = _interop_require_default(require(\"./with-router\"));\nconst singletonRouter = {\n    router: null,\n    readyCallbacks: [],\n    ready (cb) {\n        if (this.router) return cb();\n        if (typeof window !== 'undefined') {\n            this.readyCallbacks.push(cb);\n        }\n    }\n};\n// Create public properties and methods of the router in the singletonRouter\nconst urlPropertyFields = [\n    'pathname',\n    'route',\n    'query',\n    'asPath',\n    'components',\n    'isFallback',\n    'basePath',\n    'locale',\n    'locales',\n    'defaultLocale',\n    'isReady',\n    'isPreview',\n    'isLocaleDomain',\n    'domainLocales', \n];\nconst routerEvents = [\n    'routeChangeStart',\n    'beforeHistoryChange',\n    'routeChangeComplete',\n    'routeChangeError',\n    'hashChangeStart',\n    'hashChangeComplete', \n];\nconst coreMethodFields = [\n    'push',\n    'replace',\n    'reload',\n    'back',\n    'prefetch',\n    'beforePopState', \n];\n// Events is a static property on the router, the router doesn't have to be initialized to use it\nObject.defineProperty(singletonRouter, 'events', {\n    get () {\n        return _router.default.events;\n    }\n});\nurlPropertyFields.forEach((field)=>{\n    // Here we need to use Object.defineProperty because we need to return\n    // the property assigned to the actual router\n    // The value might get changed as we change routes and this is the\n    // proper way to access it\n    Object.defineProperty(singletonRouter, field, {\n        get () {\n            const router = getRouter();\n            return router[field];\n        }\n    });\n});\ncoreMethodFields.forEach((field)=>{\n    singletonRouter[field] = (...args)=>{\n        const router = getRouter();\n        return router[field](...args);\n    };\n});\nrouterEvents.forEach((event)=>{\n    singletonRouter.ready(()=>{\n        _router.default.events.on(event, (...args)=>{\n            const eventField = `on${event.charAt(0).toUpperCase()}${event.substring(1)}`;\n            const _singletonRouter = singletonRouter;\n            if (_singletonRouter[eventField]) {\n                try {\n                    _singletonRouter[eventField](...args);\n                } catch (err) {\n                    console.error(`Error when running the Router event: ${eventField}`);\n                    console.error((0, _isError).default(err) ? `${err.message}\\n${err.stack}` : err + '');\n                }\n            }\n        });\n    });\n});\nfunction getRouter() {\n    if (!singletonRouter.router) {\n        const message = 'No router instance found.\\n' + 'You should only use \"next/router\" on the client side of your app.\\n';\n        throw new Error(message);\n    }\n    return singletonRouter.router;\n}\nvar _default = singletonRouter;\nexports.default = _default;\nfunction useRouter() {\n    return _react.default.useContext(_routerContext.RouterContext);\n}\nfunction createRouter(...args) {\n    singletonRouter.router = new _router.default(...args);\n    singletonRouter.readyCallbacks.forEach((cb)=>cb());\n    singletonRouter.readyCallbacks = [];\n    return singletonRouter.router;\n}\nfunction makePublicRouterInstance(router) {\n    const scopedRouter = router;\n    const instance = {};\n    for (const property of urlPropertyFields){\n        if (typeof scopedRouter[property] === 'object') {\n            instance[property] = Object.assign(Array.isArray(scopedRouter[property]) ? [] : {}, scopedRouter[property]) // makes sure query is not stateful\n            ;\n            continue;\n        }\n        instance[property] = scopedRouter[property];\n    }\n    // Events is a static property on the router, the router doesn't have to be initialized to use it\n    instance.events = _router.default.events;\n    coreMethodFields.forEach((field)=>{\n        instance[field] = (...args)=>{\n            return scopedRouter[field](...args);\n        };\n    });\n    return instance;\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=router.js.map"]},"metadata":{},"sourceType":"script"}