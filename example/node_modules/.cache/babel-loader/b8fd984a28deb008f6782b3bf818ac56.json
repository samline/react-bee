{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.normalizePathTrailingSlash = void 0;\n\nvar _removeTrailingSlash = require(\"../shared/lib/router/utils/remove-trailing-slash\");\n\nvar _parsePath = require(\"../shared/lib/router/utils/parse-path\");\n\nvar normalizePathTrailingSlash = function normalizePathTrailingSlash(path) {\n  if (!path.startsWith('/')) {\n    return path;\n  }\n\n  var _parsePath2 = (0, _parsePath).parsePath(path),\n      pathname = _parsePath2.pathname,\n      query = _parsePath2.query,\n      hash = _parsePath2.hash;\n\n  if (process.env.__NEXT_TRAILING_SLASH) {\n    if (/\\.[^/]+\\/?$/.test(pathname)) {\n      return \"\".concat((0, _removeTrailingSlash).removeTrailingSlash(pathname)).concat(query).concat(hash);\n    } else if (pathname.endsWith('/')) {\n      return \"\".concat(pathname).concat(query).concat(hash);\n    } else {\n      return \"\".concat(pathname, \"/\").concat(query).concat(hash);\n    }\n  }\n\n  return \"\".concat((0, _removeTrailingSlash).removeTrailingSlash(pathname)).concat(query).concat(hash);\n};\n\nexports.normalizePathTrailingSlash = normalizePathTrailingSlash;\n\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', {\n    value: true\n  });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}","map":{"version":3,"sources":["../../client/normalize-trailing-slash.ts"],"names":["normalizePathTrailingSlash","path","startsWith","pathname","query","hash","parsePath","process","env","__NEXT_TRAILING_SLASH","test","removeTrailingSlash","endsWith"],"mappings":"AAAA;;;;;;;AAAoC,IAAA,oBAAkD,GAAA,OAAA,CAAlD,kDAAkD,CAAlD;;AACV,IAAA,UAAuC,GAAA,OAAA,CAAvC,uCAAuC,CAAvC;;AAMnB,IAAMA,0BAA0B,GAAG,SAA7BA,0BAA6B,CAACC,IAAD,EAAkB;EAC1D,IAAI,CAACA,IAAI,CAACC,UAALD,CAAgB,GAAhBA,CAAL,EAA2B;IACzB,OAAOA,IAAP;EACD;;EAED,kBAAkCK,CAAAA,GAAAA,UAAAA,EAAS,SAATA,CAAUL,IAAVK,CAAlC;EAAA,IAAQH,QAAR,eAAQA,QAAR;EAAA,IAAkBC,KAAlB,eAAkBA,KAAlB;EAAA,IAAyBC,IAAzB,eAAyBA,IAAzB;;EACA,IAAIE,OAAO,CAACC,GAARD,CAAYE,qBAAhB,EAAuC;IACrC,IAAI,cAAcC,IAAd,CAAmBP,QAAnB,CAAJ,EAAkC;MAChC,iBAAUQ,CAAAA,GAAAA,oBAAAA,EAAmB,mBAAnBA,CAAoBR,QAApBQ,CAAV,SAA0CP,KAA1C,SAAkDC,IAAlD;IACD,CAFD,MAEO,IAAIF,QAAQ,CAACS,QAATT,CAAkB,GAAlBA,CAAJ,EAA4B;MACjC,iBAAUA,QAAV,SAAqBC,KAArB,SAA6BC,IAA7B;IACD,CAFM,MAEA;MACL,iBAAUF,QAAV,cAAsBC,KAAtB,SAA8BC,IAA9B;IACD;EACF;;EAED,iBAAUM,CAAAA,GAAAA,oBAAAA,EAAmB,mBAAnBA,CAAoBR,QAApBQ,CAAV,SAA0CP,KAA1C,SAAkDC,IAAlD;AACD,CAjBM;;QAAML,0B,GAAAA,0B","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.normalizePathTrailingSlash = void 0;\nvar _removeTrailingSlash = require(\"../shared/lib/router/utils/remove-trailing-slash\");\nvar _parsePath = require(\"../shared/lib/router/utils/parse-path\");\nconst normalizePathTrailingSlash = (path)=>{\n    if (!path.startsWith('/')) {\n        return path;\n    }\n    const { pathname , query , hash  } = (0, _parsePath).parsePath(path);\n    if (process.env.__NEXT_TRAILING_SLASH) {\n        if (/\\.[^/]+\\/?$/.test(pathname)) {\n            return `${(0, _removeTrailingSlash).removeTrailingSlash(pathname)}${query}${hash}`;\n        } else if (pathname.endsWith('/')) {\n            return `${pathname}${query}${hash}`;\n        } else {\n            return `${pathname}/${query}${hash}`;\n        }\n    }\n    return `${(0, _removeTrailingSlash).removeTrailingSlash(pathname)}${query}${hash}`;\n};\nexports.normalizePathTrailingSlash = normalizePathTrailingSlash;\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=normalize-trailing-slash.js.map"]},"metadata":{},"sourceType":"script"}